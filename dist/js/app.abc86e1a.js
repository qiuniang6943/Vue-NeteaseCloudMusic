(function(t){function e(e){for(var o,s,l=e[0],c=e[1],r=e[2],f=0,d=[];f<l.length;f++)s=l[f],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,r||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,l=1;l<n.length;l++){var c=n[l];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={app:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var r=0;r<l.length;r++)e(l[r]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"3bea":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s=(n("5c0b"),n("2877")),l={},c=Object(s["a"])(l,a,i,!1,null,null,null),r=c.exports,u=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("el-container",{staticClass:"container"},[n("el-aside",{attrs:{width:"200px"}},[n("aside-com")],1),n("el-container",[n("el-header",[n("header-com")],1),n("el-main",[n("router-view")],1),n("el-footer",[t._v("Footer")])],1)],1)],1)},d=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"asideBox"},[n("el-row",{staticClass:"tac"},[n("el-col",{attrs:{span:24}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"/",router:"","background-color":"#f0f0f0"}},[n("el-menu-item",{attrs:{index:"/"}},[n("i",{staticClass:"el-icon-location"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("音乐馆")])]),n("el-menu-item",{attrs:{index:"video"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("视频")])]),n("el-menu-item",{attrs:{index:"Ilike"}},[n("i",{staticClass:"el-icon-document"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("我喜欢")])]),n("el-menu-item",{attrs:{index:"Login"}},[n("i",{staticClass:"el-icon-setting"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("导航四")])])],1)],1)],1)],1)},p=[],g={name:"asideCom",methods:{}},h=g,v=Object(s["a"])(h,m,p,!1,null,"2a094278",null),b=v.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"headerBox"},[n("div",{staticClass:"leftBox"},[n("i",{staticClass:"el-icon-back",on:{click:t.back}}),n("i",{staticClass:"el-icon-right",on:{click:t.forward}}),n("el-input",{attrs:{placeholder:"搜索音乐","prefix-icon":"el-icon-search",size:"small"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("div",{staticClass:"rightBox"},[n("img",{staticClass:"avatar",attrs:{src:t.userInfo.avatarUrl,alt:""}}),n("span",{staticClass:"nickname"},[t._v(t._s(t.userInfo.nickname))]),n("el-row",{staticClass:"block-col-2"},[n("el-col",{attrs:{span:12}},[n("span",{staticClass:"demonstration"}),n("el-dropdown",{attrs:{trigger:"click"}},[n("span",{staticClass:"el-dropdown-link"},[n("i",{staticClass:"el-icon-arrow-down el-icon-s-operation"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.isLogin?n("el-dropdown-item",{attrs:{icon:"el-icon-close"},nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出登陆")]):t._e(),t.isLogin?n("el-dropdown-item",{attrs:{icon:"el-icon-close"},nativeOn:{click:function(e){return t.login(e)}}},[t._v("切换账号")]):t._e()],1)],1)],1)],1),t.isLogin?t._e():n("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登陆")])],1)])},_=[],C=n("bc3a"),x=n.n(C),y=x.a.create({baseURL:"http://wangyinglong.cn:3000"}),k=y,O={name:"HeaderCom",data:function(){return{search:"",loginStatus:!1,userInfo:{}}},mounted:function(){this.getLoginStatus(),this.$message({message:"后台有点问题，已登录会返回未登录，如果已经登录但是显示未登录，多刷新几次",type:"warning"})},methods:{back:function(){ft.go(-1)},forward:function(){ft.go(1)},getLoginStatus:function(){var t=this;console.log("/login/status"),k({method:"get",url:"/login/status"}).then((function(e){console.log(e),t.userInfo=e.data.profile,console.log("已登陆"),t.$store.commit("loggedIn")})).catch((function(e){console.log("需要登陆"),t.$store.commit("notLoggeIn")}))},login:function(){ft.push({path:"/Login"})},logout:function(){var t=this;console.log("111"),k({method:"get",url:"/logout"}).then((function(e){console.log(e),console.log("已退出登陆"),t.$message({message:"后台有点问题，返回状态成功但是并没有成功退出",type:"warning"}),t.$store.commit("notLoggeIn")})).catch((function(t){console.log(t)}))}},computed:{isLogin:function(){return this.$store.state.isLogin}}},$=O,L=(n("9509"),Object(s["a"])($,w,_,!1,null,"4e897832",null)),j=L.exports,I={name:"Home",components:{asideCom:b,HeaderCom:j}},E=I,S=(n("b4a1"),Object(s["a"])(E,f,d,!1,null,"aea838ba",null)),M=S.exports,P=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("Music Hall")])},H=[],V={name:"MusicHall"},B=V,T=Object(s["a"])(B,P,H,!1,null,null,null),J=T.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v(" 视频 "),n("video-com")],1)},U=[],z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("11111")])},F=[],R={name:"videoCom"},q=R,A=Object(s["a"])(q,z,F,!1,null,"3e2ae185",null),D=A.exports,G={name:"Video",data:function(){return{}},created:function(){this.getNewMV()},methods:{getNewMV:function(){k({methods:"get",url:"/mv/first?limit=10"}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}},components:{VideoCom:D}},K=G,Q=Object(s["a"])(K,N,U,!1,null,null,null),W=Q.exports,X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("Ilike")])},Y=[],Z={name:"Ilike"},tt=Z,et=Object(s["a"])(tt,X,Y,!1,null,"4879bcfd",null),nt=et.exports,ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"form"},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"手机号码"}},[n("el-input",{model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password"},model:{value:t.form.pwd,callback:function(e){t.$set(t.form,"pwd",e)},expression:"form.pwd"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登陆")])],1)],1)],1)])},at=[],it=(n("99af"),{name:"Login",data:function(){return{form:{phone:"",code:"",pwd:""}}},methods:{login:function(){var t=this;k({method:"get",url:"/login/cellphone?phone=".concat(this.form.phone,"&password=").concat(this.form.pwd)}).then((function(e){console.log(e),502===e.data.code?t.$message.error(e.data.message):(t.$message({message:"登陆成功",type:"success"}),ft.push({path:"/"}),store.commit("loggedIn"))})).catch((function(t){console.log(t)}))},getCode:function(){k({method:"get",url:"/captcha/sent?phone=".concat(this.form.phone)}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},verifyCode:function(){k({method:"get",url:"/captcha/verify?phone=".concat(this.form.phone,"&captcha=").concat(this.form.code)}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}}}),st=it,lt=(n("7459"),Object(s["a"])(st,ot,at,!1,null,"5f398a96",null)),ct=lt.exports;o["default"].use(u["a"]);var rt=[{path:"/",name:"Home",component:M,children:[{path:"/",component:J},{path:"Video",name:"Video",component:W},{path:"Ilike",name:"Ilike",component:nt}]},{path:"/Login",name:"Login",component:ct}],ut=new u["a"]({routes:rt}),ft=ut,dt=n("2f62");o["default"].use(dt["a"]);var mt=new dt["a"].Store({state:{isLogin:!1},mutations:{loggedIn:function(t){t.isLogin=!0},notLoggeIn:function(t){t.isLogin=!1}},actions:{},modules:{}}),pt=n("5c96"),gt=n.n(pt);n("0fae");o["default"].use(gt.a),o["default"].config.productionTip=!1,new o["default"]({router:ft,store:mt,render:function(t){return t(r)}}).$mount("#app")},"595c":function(t,e,n){},"5c0b":function(t,e,n){"use strict";n("9c0c")},7459:function(t,e,n){"use strict";n("3bea")},9509:function(t,e,n){"use strict";n("595c")},"9c0c":function(t,e,n){},b4a1:function(t,e,n){"use strict";n("dae8")},dae8:function(t,e,n){}});
//# sourceMappingURL=app.abc86e1a.js.map