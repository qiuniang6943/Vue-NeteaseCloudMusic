(function(t){function e(e){for(var o,s,l=e[0],c=e[1],r=e[2],f=0,d=[];f<l.length;f++)s=l[f],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,r||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,l=1;l<n.length;l++){var c=n[l];0!==a[c]&&(o=!1)}o&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var o={},a={app:0},i=[];function s(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=o,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)s.d(n,o,function(e){return t[e]}.bind(null,o));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=e,l=l.slice();for(var r=0;r<l.length;r++)e(l[r]);var u=c;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0087":function(t,e,n){},"023e":function(t,e,n){},"0688":function(t,e,n){"use strict";n("cd24")},4247:function(t,e,n){"use strict";n("961d")},"507a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},i=[],s=(n("5c0b"),n("2877")),l={},c=Object(s["a"])(l,a,i,!1,null,null,null),r=c.exports,u=n("8c4f"),f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("el-container",{staticClass:"container"},[n("el-aside",{attrs:{width:"280px"}},[n("aside-com")],1),n("el-container",[n("el-header",[n("header-com")],1),n("el-main",[n("router-view")],1),n("el-footer",[t._v("Footer")])],1)],1)],1)},d=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"asideBox"},[n("el-row",{staticClass:"tac"},[n("el-col",{attrs:{span:24}},[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"/",router:"","background-color":"#f0f0f0"}},[n("el-menu-item",{attrs:{index:"/"}},[n("i",{staticClass:"el-icon-location"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("音乐馆")])]),n("el-menu-item",{attrs:{index:"/video"}},[n("i",{staticClass:"el-icon-menu"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("视频")])]),n("el-menu-item",{attrs:{index:"/Ilike"}},[n("i",{staticClass:"el-icon-document"}),n("span",{attrs:{slot:"title"},slot:"title"},[t._v("我喜欢")])]),t._l(t.userAccount,(function(e,o){return n("el-menu-item",{key:o,attrs:{index:"/Playlist/"+e.id}},[n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))])])}))],2)],1)],1)],1)},p=[],h=n("bc3a"),g=n.n(h),v=g.a.create({baseURL:"http://wangyinglong.cn:3000"}),_=v,b={name:"asideCom",data:function(){return{userAccount:{}}},created:function(){this.getUserAccount()},methods:{getUserAccount:function(){var t=this;_({url:"/user/playlist?uid=41754682"}).then((function(e){console.log(e),t.userAccount=e.data.playlist})).catch((function(t){console.log(t)}))}}},y=b,C=(n("8930"),Object(s["a"])(y,m,p,!1,null,"61e05f2e",null)),w=C.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"headerBox"},[n("div",{staticClass:"leftBox"},[n("i",{staticClass:"el-icon-back",on:{click:t.back}}),n("i",{staticClass:"el-icon-right",on:{click:t.forward}}),n("el-input",{attrs:{placeholder:"搜索音乐","prefix-icon":"el-icon-search",size:"small"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),n("div",{staticClass:"rightBox"},[n("img",{staticClass:"avatar",attrs:{src:t.userInfo.avatarUrl,alt:""}}),n("span",{staticClass:"nickname"},[t._v(t._s(t.userInfo.nickname))]),n("el-row",{staticClass:"block-col-2"},[n("el-col",{attrs:{span:12}},[n("span",{staticClass:"demonstration"}),n("el-dropdown",{attrs:{trigger:"click"}},[n("span",{staticClass:"el-dropdown-link"},[n("i",{staticClass:"el-icon-arrow-down el-icon-s-operation"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.isLogin?n("el-dropdown-item",{attrs:{icon:"el-icon-close"},nativeOn:{click:function(e){return t.logout(e)}}},[t._v("退出登陆")]):t._e(),t.isLogin?n("el-dropdown-item",{attrs:{icon:"el-icon-close"},nativeOn:{click:function(e){return t.login(e)}}},[t._v("切换账号")]):t._e()],1)],1)],1)],1),t.isLogin?t._e():n("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登陆")])],1)])},k=[],x=(n("99af"),{name:"HeaderCom",data:function(){return{search:"",loginStatus:!1,userInfo:{}}},mounted:function(){this.getLoginStatus(),this.$message({message:"后台有点问题，已登录会返回未登录，如果已经登录但是显示未登录，多刷新几次",type:"warning"})},methods:{back:function(){Ut.go(-1)},forward:function(){Ut.go(1)},getLoginStatus:function(){var t=this;console.log("/login/status"),_({method:"get",url:"/login/status?cookie=".concat(document.cookie,"&timestamp=").concat(Date.now()),withCredentials:!0}).then((function(e){console.log(e),t.userInfo=e.data.profile,console.log("已登陆"),t.$store.commit("loggedIn")})).catch((function(e){console.log(e.response.status),console.log("需要登陆"),t.$store.commit("notLoggeIn")}))},login:function(){Ut.push({path:"/Login"})},logout:function(){var t=this;console.log("111"),_({method:"get",url:"/logout"}).then((function(e){console.log(e),console.log("已退出登陆"),t.$message({message:"后台有点问题，返回状态成功但是并没有成功退出",type:"warning"}),t.$store.commit("notLoggeIn")})).catch((function(t){console.log(t)}))}},computed:{isLogin:function(){return this.$store.state.isLogin}}}),M=x,$=(n("4247"),Object(s["a"])(M,V,k,!1,null,"0c92a6a7",null)),O=$.exports,I={name:"Home",components:{asideCom:w,HeaderCom:O}},j=I,L=(n("cfb7"),Object(s["a"])(j,f,d,!1,null,"59a77bbb",null)),P=L.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("Music Hall")])},S=[],U={name:"MusicHall"},T=U,D=Object(s["a"])(T,E,S,!1,null,null,null),N=D.exports,H=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("title-com",{staticClass:"title"},[t._v("最新MV")]),n("div",{staticClass:"videoComBox"},t._l(t.newMV,(function(t,e){return n("video-com",{key:e,attrs:{text:t.name,name:t.artistName,imgUrl:t.cover+"?param=300y150",id:t.id}})})),1),n("title-com",{staticClass:"title"},[t._v("MV排行榜")]),n("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[n("el-tab-pane",{attrs:{label:"内地",name:"two"}},[n("top-m-v-com",{attrs:{area:"内地"}})],1),n("el-tab-pane",{attrs:{label:"港台",name:"three"}},[n("top-m-v-com",{attrs:{area:"港台"}})],1),n("el-tab-pane",{attrs:{label:"欧美",name:"four"}},[n("top-m-v-com",{attrs:{area:"欧美"}})],1),n("el-tab-pane",{attrs:{label:"日本",name:"five"}},[n("top-m-v-com",{attrs:{area:"日本"}})],1),n("el-tab-pane",{attrs:{label:"韩国",name:"six"}},[n("top-m-v-com",{attrs:{area:"韩国"}})],1)],1)],1)},A=[],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"videoComContainer"},[n("img",{attrs:{src:t.imgUrl,alt:""},on:{click:t.playVideo}}),n("p",[t._v(t._s(t.text))]),n("p",{staticClass:"name"},[t._v(t._s(t.name))])])},F=[],z=(n("a9e3"),{name:"VideoCom",props:{text:{type:String,default:"文本"},name:{type:String,default:"歌手姓名"},imgUrl:{type:String,default:"http://p1.music.126.net/LozMTbvsoA28xHfXOpRriw==/109951165514957932.jpg?param=300y150"},id:{type:Number,default:10977836}},methods:{playVideo:function(){Ut.push({name:"PlayVideo",params:{id:this.id}})}},components:{}}),J=z,R=(n("89f1"),Object(s["a"])(J,B,F,!1,null,"7f34d68c",null)),X=R.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[t._t("default")],2)},G=[],K={name:"TitleCom"},Q=K,W=(n("5d51"),Object(s["a"])(Q,q,G,!1,null,"8ec8615e",null)),Y=W.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"topMVContainerBox"},t._l(t.topMV,(function(e,o){return n("div",{key:o,staticClass:"topMVContainer",on:{click:function(n){return t.playVideo(e.id)}}},[n("span",{staticClass:"num"},[t._v(t._s(t._f("numFormat")(o)))]),n("img",{attrs:{src:e.cover+"?param=300y150",alt:""}}),n("i",{staticClass:"el-icon-headset"},[t._v(t._s(e.score))]),n("div",{staticClass:"text"},[n("span",{staticClass:"titie"},[t._v(t._s(e.name))]),n("p",t._l(e.artists,(function(e,o){return n("span",{key:o},[n("span",{directives:[{name:"show",rawName:"v-show",value:o<3,expression:"index < 3"}],staticClass:"artist"},[t._v(t._s(e.name))])])})),0)])])})),0)},tt=[],et={name:"TopMVCom",data:function(){return{topMV:{}}},props:{area:{type:String}},mounted:function(){this.getTopMV()},methods:{getTopMV:function(){var t,e=this;t="全部"==this.area?"/top/mv?limit=10":"/top/mv?limit=10&area=".concat(this.area),_({url:t}).then((function(t){e.topMV=t.data.data})).catch((function(t){console.log(t)}))},playVideo:function(t){console.log(t),Ut.push({name:"PlayVideo",params:{id:t}})}},filters:{numFormat:function(t){return t<9?"0"+(t+1):t+1}}},nt=et,ot=(n("9da8"),Object(s["a"])(nt,Z,tt,!1,null,"460bf3ea",null)),at=ot.exports,it={name:"Video",data:function(){return{newMV:{},activeName:"two"}},created:function(){this.getNewMV()},methods:{handleClick:function(t,e){},getNewMV:function(){var t=this;_({methods:"get",url:"/mv/first?limit=10"}).then((function(e){t.newMV=e.data.data})).catch((function(t){console.log(t)}))}},components:{VideoCom:X,TitleCom:Y,TopMVCom:at}},st=it,lt=(n("836b"),Object(s["a"])(st,H,A,!1,null,"65b92b50",null)),ct=lt.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("Ilike")])},ut=[],ft={name:"Ilike"},dt=ft,mt=Object(s["a"])(dt,rt,ut,!1,null,"4879bcfd",null),pt=mt.exports,ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"form"},[n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"手机号码"}},[n("el-input",{model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),n("el-form-item",{attrs:{label:"密码"}},[n("el-input",{attrs:{type:"password"},model:{value:t.form.pwd,callback:function(e){t.$set(t.form,"pwd",e)},expression:"form.pwd"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("登陆")])],1)],1)],1)])},gt=[],vt={name:"Login",data:function(){return{form:{phone:"",code:"",pwd:""}}},methods:{login:function(){var t=this;_({method:"get",url:"/login/cellphone?phone=".concat(this.form.phone,"&password=").concat(this.form.pwd)}).then((function(e){console.log(e),502===e.data.code?t.$message.error(e.data.message):(document.cookie="".concat(e.data.cookie),t.$message({message:"登陆成功",type:"success"}),Ut.push({path:"/"}),store.commit("loggedIn"))})).catch((function(t){console.log(t)}))},getCode:function(){_({method:"get",url:"/captcha/sent?phone=".concat(this.form.phone)}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))},verifyCode:function(){_({method:"get",url:"/captcha/verify?phone=".concat(this.form.phone,"&captcha=").concat(this.form.code)}).then((function(t){console.log(t)})).catch((function(t){console.log(t)}))}}},_t=vt,bt=(n("83e5"),Object(s["a"])(_t,ht,gt,!1,null,"7698ea15",null)),yt=bt.exports,Ct=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"playVideoContainer"},[t.playUrl?n("video",{attrs:{width:"100%",height:"100%",controls:""}},[n("source",{attrs:{src:t.playUrl,type:"video/mp4"}})]):t._e(),n("div",[n("h1",[t._v(t._s(t.MVInfo.name))]),n("p",[t._v(" 演唱: "),t._l(t.MVInfo.artists,(function(e,o){return n("span",{key:o},[t._v(t._s(e.name))])})),n("span",[t._v("播放数:"+t._s(t.MVInfo.playCount))]),n("span",[t._v("发布时间:"+t._s(t.MVInfo.publishTime))])],2),t.MVInfo?n("div",t._l(t.MVDesc,(function(e,o){return n("div",{key:o},[t._v(t._s(e))])})),0):t._e()])])},wt=[],Vt=(n("ac1f"),n("1276"),{name:"PlayVideo",data:function(){return{playUrl:"",MVInfo:""}},mounted:function(){console.log(this.$route.params.id),this.getMVUrl(),this.getMVInfo()},methods:{getMVUrl:function(){var t=this;_({url:"/mv/url?id=".concat(this.$route.params.id)}).then((function(e){t.playUrl=e.data.data.url})).catch((function(t){console.log(t)}))},getMVInfo:function(){var t=this;_({url:"/mv/detail?mvid=".concat(this.$route.params.id)}).then((function(e){console.log(e),t.MVInfo=e.data.data,console.log(t.MVInfo)})).catch((function(t){console.log(t)}))}},computed:{MVDesc:function(){return this.MVInfo.desc.split("\n")}}}),kt=Vt,xt=(n("0688"),Object(s["a"])(kt,Ct,wt,!1,null,"438530d6",null)),Mt=xt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.playlistDetail,(function(e,o){return n("div",{key:o,staticClass:"list"},[t._v(" "+t._s(e.name)+" ")])})),0)},Ot=[],It={name:"Playlist",data:function(){return{playlistDetail:{}}},created:function(){this.getPlaylistDetail()},methods:{getPlaylistDetail:function(){var t=this;console.log("获取歌单详情"),_({url:"/playlist/detail?id=".concat(this.$route.params.id)}).then((function(e){console.log(e),t.playlistDetail=e.data.playlist.tracks,console.log(t.playlistDetail)})).catch((function(t){console.log(t)}))}},watch:{$route:function(t,e){this.getPlaylistDetail()}}},jt=It,Lt=Object(s["a"])(jt,$t,Ot,!1,null,"49a35eb4",null),Pt=Lt.exports;o["default"].use(u["a"]);var Et=[{path:"/",name:"Home",component:P,children:[{path:"/",component:N},{path:"Video",name:"Video",component:ct},{path:"Ilike",name:"Ilike",component:pt},{path:"PlayVideo/:id",name:"PlayVideo",component:Mt},{path:"Playlist/:id",name:"Playlist",component:Pt}]},{path:"/Login",name:"Login",component:yt}],St=new u["a"]({routes:Et}),Ut=St,Tt=n("2f62");o["default"].use(Tt["a"]);var Dt=new Tt["a"].Store({state:{isLogin:!1},mutations:{loggedIn:function(t){t.isLogin=!0},notLoggeIn:function(t){t.isLogin=!1}},actions:{},modules:{}}),Nt=n("5c96"),Ht=n.n(Nt);n("0fae");o["default"].use(Ht.a),o["default"].config.productionTip=!1,new o["default"]({router:Ut,store:Dt,render:function(t){return t(r)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"5d51":function(t,e,n){"use strict";n("023e")},"6d1f":function(t,e,n){},"836b":function(t,e,n){"use strict";n("6d1f")},"83e5":function(t,e,n){"use strict";n("507a")},8518:function(t,e,n){},8930:function(t,e,n){"use strict";n("b516")},"89f1":function(t,e,n){"use strict";n("0087")},"961d":function(t,e,n){},"9c0c":function(t,e,n){},"9da8":function(t,e,n){"use strict";n("a775")},a775:function(t,e,n){},b516:function(t,e,n){},cd24:function(t,e,n){},cfb7:function(t,e,n){"use strict";n("8518")}});
//# sourceMappingURL=app.e0e90151.js.map